<UserControl x:Class="Quantun_Forge.src.views.EMD"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             mc:Ignorable="d" 
             d:DesignHeight="800" d:DesignWidth="1000"
             Background="White">

    <UserControl.Resources>
        <!-- Cores -->
        <SolidColorBrush x:Key="PrimaryColor" Color="#3498DB"/>
        <SolidColorBrush x:Key="SecondaryColor" Color="#2C3E50"/>
        <SolidColorBrush x:Key="AccentColor" Color="#E74C3C"/>
        <SolidColorBrush x:Key="SuccessColor" Color="#27AE60"/>
        <SolidColorBrush x:Key="WarningColor" Color="#F39C12"/>
        <SolidColorBrush x:Key="LightGray" Color="#ECF0F1"/>
        <SolidColorBrush x:Key="DarkGray" Color="#7F8C8D"/>
        <SolidColorBrush x:Key="ClassicalColor" Color="#3498DB"/>
        <SolidColorBrush x:Key="QuantumColor" Color="#9B59B6"/>
        <SolidColorBrush x:Key="ErrorColor" Color="#E74C3C"/>
        <SolidColorBrush x:Key="DecoherenceColor" Color="#F39C12"/>

        <!-- Animações -->
        <Storyboard x:Key="FadeInAnimation">
            <DoubleAnimation Storyboard.TargetProperty="Opacity"
                           From="0" To="1" Duration="0:0:0.8"/>
        </Storyboard>

        <Storyboard x:Key="CollapseAnimation">
            <DoubleAnimation Storyboard.TargetProperty="Opacity"
                           From="1" To="0" Duration="0:0:0.5"/>
        </Storyboard>

        <!-- Estilos -->
        <Style x:Key="CardStyle" TargetType="Border">
            <Setter Property="Background" Value="White"/>
            <Setter Property="CornerRadius" Value="12"/>
            <Setter Property="Padding" Value="25"/>
            <Setter Property="Margin" Value="10"/>
            <Setter Property="Effect">
                <Setter.Value>
                    <DropShadowEffect Color="#BDC3C7" BlurRadius="15" ShadowDepth="3" Opacity="0.3"/>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="SimulationButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="{StaticResource PrimaryColor}"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Padding" Value="20,12"/>
            <Setter Property="Margin" Value="5"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" CornerRadius="8">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#2980B9"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="BadgeStyle" TargetType="Border">
            <Setter Property="CornerRadius" Value="15"/>
            <Setter Property="Padding" Value="12,6"/>
            <Setter Property="Margin" Value="5,0"/>
        </Style>

        <Style x:Key="SectionTitleStyle" TargetType="TextBlock">
            <Setter Property="FontSize" Value="28"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Foreground" Value="{StaticResource SecondaryColor}"/>
            <Setter Property="Margin" Value="0,0,0,15"/>
        </Style>

        <Style x:Key="ContentTextStyle" TargetType="TextBlock">
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Foreground" Value="{StaticResource SecondaryColor}"/>
            <Setter Property="TextWrapping" Value="Wrap"/>
            <Setter Property="LineHeight" Value="22"/>
            <Setter Property="Margin" Value="0,5"/>
        </Style>
    </UserControl.Resources>

    <ScrollViewer VerticalScrollBarVisibility="Auto" 
                  HorizontalScrollBarVisibility="Disabled"
                  Background="#FAFAFA">
        <StackPanel MaxWidth="1200" Margin="40,30">

            <!-- Header -->
            <Border Style="{StaticResource CardStyle}" Margin="0,0,0,20">
                <StackPanel>
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,15">
                        <Viewbox Width="50" Height="50" Margin="0,0,15,0">
                            <Canvas Width="100" Height="100">
                                <!-- Qubit perfeito -->
                                <Ellipse Canvas.Left="10" Canvas.Top="20" Width="30" Height="30"
                                        Stroke="#27AE60" StrokeThickness="3" Fill="#E8F5E9"/>
                                <Ellipse Canvas.Left="22" Canvas.Top="32" Width="6" Height="6" Fill="#27AE60"/>

                                <!-- Seta de transformação -->
                                <Path Data="M 45 35 L 55 35 L 52 32 M 55 35 L 52 38" 
                                      Stroke="#E74C3C" StrokeThickness="2"/>

                                <!-- Qubit com ruído -->
                                <Ellipse Canvas.Left="60" Canvas.Top="20" Width="30" Height="30"
                                        Stroke="#E74C3C" StrokeThickness="3" Fill="#FFEBEE"
                                        StrokeDashArray="2,2"/>
                                <Ellipse Canvas.Left="72" Canvas.Top="32" Width="6" Height="6" Fill="#E74C3C"/>

                                <!-- Ondas de ruído -->
                                <Path Canvas.Left="60" Canvas.Top="15"
                                      Data="M 0 0 Q 3 -3, 6 0 T 12 0" 
                                      Stroke="#F39C12" StrokeThickness="1.5" Fill="Transparent"/>
                                <Path Canvas.Left="65" Canvas.Top="50"
                                      Data="M 0 0 Q 3 3, 6 0 T 12 0" 
                                      Stroke="#F39C12" StrokeThickness="1.5" Fill="Transparent"/>
                            </Canvas>
                        </Viewbox>
                        <StackPanel VerticalAlignment="Center">
                            <TextBlock Text="⚠️ Erro, Medição e Decoerência" 
                                     Style="{StaticResource SectionTitleStyle}" Margin="0"/>
                            <TextBlock Text="Como a Informação Quântica é Perdida" 
                                     FontSize="16" Foreground="{StaticResource DarkGray}" FontStyle="Italic"/>
                        </StackPanel>
                    </StackPanel>

                    <StackPanel Orientation="Horizontal" Margin="0,10,0,15">
                        <Border Style="{StaticResource BadgeStyle}" Background="#E8F5E9">
                            <TextBlock Text="✅ Evolução Ideal" Foreground="#2E7D32" FontWeight="SemiBold" FontSize="12"/>
                        </Border>
                        <Border Style="{StaticResource BadgeStyle}" Background="#FFEBEE">
                            <TextBlock Text="📏 Medição" Foreground="#C62828" FontWeight="SemiBold" FontSize="12"/>
                        </Border>
                        <Border Style="{StaticResource BadgeStyle}" Background="#FFF3E0">
                            <TextBlock Text="🌊 Decoerência" Foreground="#E65100" FontWeight="SemiBold" FontSize="12"/>
                        </Border>
                        <Border Style="{StaticResource BadgeStyle}" Background="#FCE4EC">
                            <TextBlock Text="⚡ Erros" Foreground="#880E4F" FontWeight="SemiBold" FontSize="12"/>
                        </Border>
                    </StackPanel>

                    <Separator Background="{StaticResource LightGray}" Margin="0,15,0,20"/>

                    <TextBlock Style="{StaticResource ContentTextStyle}" FontSize="15">
                        <Run FontWeight="Bold" FontSize="16">🎯 O Problema da Fragilidade Quântica:</Run>
                        <LineBreak/><LineBreak/>
                        
                        <Run FontWeight="SemiBold" Foreground="#27AE60">EVOLUÇÃO IDEAL:</Run><Run Text=" Transformações unitárias reversíveis"/>
                        <LineBreak/>
                        <Run Text="• Portas quânticas preservam superposição e coerência"/>
                        <LineBreak/>
                        <Run Text="• Estado "/>ψ⟩<Run Text=" = α"/>0⟩<Run Text=" + β"/>1⟩<Run Text=" com fases bem definidas"/>
                        <LineBreak/>
                        <Run Text="• Informação quântica intacta (amplitudes + fases)"/>
                        <LineBreak/>
                        <Run Text="• Processo completamente reversível"/>
                        <LineBreak/><LineBreak/>
                        
                        <Run FontWeight="SemiBold" Foreground="#E74C3C">MEDIÇÃO:</Run><Run Text=" Colapso do estado quântico"/>
                        <LineBreak/>
                        <Run Text="• Superposição α"/>0⟩<Run Text=" + β"/>1⟩<Run Text=" colapsa para "/>0⟩<Run Text=" OU "/>1⟩
                        <LineBreak/>
                        <Run Text="• "/><Run FontWeight="Bold">Irreversível</Run><Run Text=": do resultado clássico não recupera (α, β)"/>
                        <LineBreak/>
                        <Run Text="• Probabilidades: P(0) = "/>α<Run Text="², P(1) = "/>β²
                        <LineBreak/>
                        <Run Text="• Transforma informação quântica para clássica"/>
                        <LineBreak/><LineBreak/>
                        
                        <Run FontWeight="SemiBold" Foreground="#F39C12">DECOERÊNCIA:</Run><Run Text=" 'Medição pelo ambiente'"/>
                        <LineBreak/>
                        <Run Text="• Interação com ruído externo (temperatura, campos, vibrações)"/>
                        <LineBreak/>
                        <Run Text="• Perde-se a coerência (fases relativas entre α e β)"/>
                        <LineBreak/>
                        <Run Text="• Estado quântico vira "/><Run FontStyle="Italic">mistura clássica</Run><Run Text=" de "/>0⟩<Run Text=" e "/>1⟩
                        <LineBreak/>
                        <Run Text="• Processo "/><Run FontWeight="Bold">gradual e descontrolado</Run>
                        <LineBreak/><LineBreak/>
                        
                        <Run FontWeight="Bold" Foreground="#E74C3C">⚡ RESULTADO:</Run><Run Text=" "/>
                        <Run Text="Erros que limitam a computação quântica (bit-flip, phase-flip, relaxação)"/>
                    </TextBlock>
                </StackPanel>
            </Border>

            <!-- Seção: Evolução Ideal vs Realidade -->
            <Border Style="{StaticResource CardStyle}">
                <StackPanel>
                    <TextBlock Text="🔄 Evolução Ideal vs Realidade" 
                             FontSize="24" FontWeight="Bold"
                             Foreground="{StaticResource SecondaryColor}"
                             Margin="0,0,0,15"/>

                    <Separator Background="{StaticResource LightGray}" Margin="0,0,0,20"/>

                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <!-- Evolução Ideal -->
                        <Border Grid.Column="0" Background="#E8F5E9" CornerRadius="10" Padding="20" Margin="5">
                            <StackPanel>
                                <TextBlock Text="✅ Evolução Ideal" 
                                         FontSize="18" FontWeight="Bold"
                                         Foreground="#2E7D32"
                                         HorizontalAlignment="Center"
                                         Margin="0,0,0,15"/>

                                <Border Background="White" BorderBrush="#27AE60" BorderThickness="2"
                                        CornerRadius="8" Padding="15">
                                    <TextBlock TextWrapping="Wrap" LineHeight="24" FontSize="13">
                                        <Run FontWeight="Bold">Sistema fechado:</Run>
                                        <LineBreak/><LineBreak/>
                                        
                                        <Run Text="• Portas unitárias (U*U = I)"/>
                                        <LineBreak/>
                                        <Run Text="• Superposição preservada"/>
                                        <LineBreak/>
                                        <Run Text="• Coerência mantida"/>
                                        <LineBreak/>
                                        <Run Text="• Fases bem definidas"/>
                                        <LineBreak/>
                                        <Run Text="• 100% reversível"/>
                                        <LineBreak/>
                                        <Run Text="• T₁, T₂ = infinito"/>
                                        <LineBreak/><LineBreak/>
                                        
                                        <Run FontWeight="Bold" Foreground="#27AE60">
                                            Estado puro:
                                        </Run>
                                        <LineBreak/>
                                        ψ⟩ = α0⟩ + β1⟩
                                    </TextBlock>
                                </Border>

                                <!-- Ícone visual -->
                                <Canvas Height="80" Margin="0,15,0,0">
                                    <Ellipse Canvas.Left="40" Canvas.Top="10" Width="60" Height="60"
                                            Stroke="#27AE60" StrokeThickness="3" Fill="Transparent"/>
                                    <Line X1="70" Y1="10" X2="70" Y2="40"
                                          Stroke="#27AE60" StrokeThickness="3">
                                        <Line.Effect>
                                            <DropShadowEffect Color="#27AE60" BlurRadius="10" ShadowDepth="0"/>
                                        </Line.Effect>
                                    </Line>
                                    <Ellipse Canvas.Left="67" Canvas.Top="37" Width="6" Height="6" Fill="#27AE60"/>
                                </Canvas>

                                <TextBlock Text="Vetor de estado bem definido" 
                                         FontSize="11" FontStyle="Italic"
                                         HorizontalAlignment="Center"
                                         Foreground="{StaticResource DarkGray}"/>
                            </StackPanel>
                        </Border>

                        <!-- Medição -->
                        <Border Grid.Column="1" Background="#FFEBEE" CornerRadius="10" Padding="20" Margin="5">
                            <StackPanel>
                                <TextBlock Text="📏 Medição" 
                                         FontSize="18" FontWeight="Bold"
                                         Foreground="#C62828"
                                         HorizontalAlignment="Center"
                                         Margin="0,0,0,15"/>

                                <Border Background="White" BorderBrush="#E74C3C" BorderThickness="2"
                                        CornerRadius="8" Padding="15">
                                    <TextBlock TextWrapping="Wrap" LineHeight="24" FontSize="13">
                                        <Run FontWeight="Bold">Colapso controlado:</Run>
                                        <LineBreak/><LineBreak/>
                                        
                                        <Run Text="• Observação do qubit"/>
                                        <LineBreak/>
                                        <Run Text="• Superposição para bit clássico"/>
                                        <LineBreak/>
                                        <Run Text="• Resultado: 0 ou 1"/>
                                        <LineBreak/>
                                        <Run Text="• P(0) = "/>α<Run Text="², P(1) = "/>β²
                                        <LineBreak/>
                                        <Run Text="• "/><Run FontWeight="Bold">Irreversível</Run>
                                        <LineBreak/>
                                        <Run Text="• Perde todas as fases"/>
                                        <LineBreak/><LineBreak/>
                                        
                                        <Run FontWeight="Bold" Foreground="#E74C3C">
                                            Estado colapsado:
                                        </Run>
                                        <LineBreak/>
                                        ψ⟩ para 0⟩ ou 1⟩
                                    </TextBlock>
                                </Border>

                                <!-- Ícone visual -->
                                <Canvas Height="80" Margin="0,15,0,0">
                                    <Ellipse Canvas.Left="40" Canvas.Top="10" Width="60" Height="60"
                                            Stroke="#E74C3C" StrokeThickness="3" Fill="Transparent"
                                            Opacity="0.3"/>
                                    <Line X1="50" Y1="40" X2="70" Y2="20"
                                          Stroke="#E74C3C" StrokeThickness="2" StrokeDashArray="2,2"/>
                                    <Line X1="50" Y1="40" X2="90" Y2="40"
                                          Stroke="#E74C3C" StrokeThickness="2" StrokeDashArray="2,2"/>

                                    <Ellipse Canvas.Left="67" Canvas.Top="17" Width="6" Height="6" Fill="#E74C3C"/>
                                    <Ellipse Canvas.Left="87" Canvas.Top="37" Width="6" Height="6" Fill="#E74C3C"/>
                                    <TextBlock Text="?" Canvas.Left="55" Canvas.Top="45" FontSize="16" FontWeight="Bold" Foreground="#E74C3C"/>
                                </Canvas>

                                <TextBlock Text="Colapsa para um dos polos" 
                                         FontSize="11" FontStyle="Italic"
                                         HorizontalAlignment="Center"
                                         Foreground="{StaticResource DarkGray}"/>
                            </StackPanel>
                        </Border>

                        <!-- Decoerência -->
                        <Border Grid.Column="2" Background="#FFF3E0" CornerRadius="10" Padding="20" Margin="5">
                            <StackPanel>
                                <TextBlock Text="🌊 Decoerência" 
                                         FontSize="18" FontWeight="Bold"
                                         Foreground="#E65100"
                                         HorizontalAlignment="Center"
                                         Margin="0,0,0,15"/>

                                <Border Background="White" BorderBrush="#F39C12" BorderThickness="2"
                                        CornerRadius="8" Padding="15">
                                    <TextBlock TextWrapping="Wrap" LineHeight="24" FontSize="13">
                                        <Run FontWeight="Bold">Interação com ambiente:</Run>
                                        <LineBreak/><LineBreak/>
                                        
                                        <Run Text="• Ruído externo (T, campos)"/>
                                        <LineBreak/>
                                        <Run Text="• Perde coerência gradual"/>
                                        <LineBreak/>
                                        <Run Text="• Fases randomizadas"/>
                                        <LineBreak/>
                                        <Run Text="• Tempo T₁ (relaxação)"/>
                                        <LineBreak/>
                                        <Run Text="• Tempo T₂ (dephasing)"/>
                                        <LineBreak/>
                                        <Run Text="• "/><Run FontWeight="Bold">Descontrolado</Run>
                                        <LineBreak/><LineBreak/>
                                        
                                        <Run FontWeight="Bold" Foreground="#F39C12">
                                            Mistura clássica:
                                        </Run>
                                        <LineBreak/>
                                        <Run Text="p·"/>0⟩⟨0<Run Text=" + (1-p)·"/>1⟩⟨1
                                    </TextBlock>
                                </Border>

                                <!-- Ícone visual -->
                                <Canvas Height="80" Margin="0,15,0,0">
                                    <Ellipse Canvas.Left="40" Canvas.Top="10" Width="60" Height="60"
                                            Stroke="#F39C12" StrokeThickness="3" Fill="Transparent"/>
                                    <Line X1="70" Y1="25" X2="70" Y2="40"
                                          Stroke="#F39C12" StrokeThickness="2" Opacity="0.6">
                                        <Line.Effect>
                                            <DropShadowEffect Color="#F39C12" BlurRadius="15" ShadowDepth="0" Opacity="0.3"/>
                                        </Line.Effect>
                                    </Line>
                                    <Ellipse Canvas.Left="67" Canvas.Top="37" Width="6" Height="6" Fill="#F39C12" Opacity="0.6"/>

                                    <!-- Ondas de ruído -->
                                    <Path Canvas.Left="45" Canvas.Top="5"
                                          Data="M 0 0 Q 3 -3, 6 0 T 12 0" 
                                          Stroke="#F39C12" StrokeThickness="1.5" Fill="Transparent" Opacity="0.5"/>
                                    <Path Canvas.Left="55" Canvas.Top="65"
                                          Data="M 0 0 Q 3 3, 6 0 T 12 0" 
                                          Stroke="#F39C12" StrokeThickness="1.5" Fill="Transparent" Opacity="0.5"/>
                                </Canvas>

                                <TextBlock Text="Vetor 'encolhe' pela decoerência" 
                                         FontSize="11" FontStyle="Italic"
                                         HorizontalAlignment="Center"
                                         Foreground="{StaticResource DarkGray}"/>
                            </StackPanel>
                        </Border>
                    </Grid>
                </StackPanel>
            </Border>

            <!-- Simulador 1: Medição e Colapso -->
            <Border Style="{StaticResource CardStyle}" Margin="0,20,0,0">
                <StackPanel>
                    <TextBlock Text="🎮 Simulador 1: Medição e Colapso" 
                             FontSize="24" FontWeight="Bold"
                             Foreground="{StaticResource SecondaryColor}"
                             Margin="0,0,0,20"/>

                    <Separator Background="{StaticResource LightGray}" Margin="0,0,0,20"/>

                    <TextBlock Style="{StaticResource ContentTextStyle}" Margin="0,0,0,20">
                        Veja como a medição destrói a superposição, colapsando o estado para 0⟩ ou 1⟩:
                    </TextBlock>

                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="2*"/>
                            <ColumnDefinition Width="3*"/>
                        </Grid.ColumnDefinitions>

                        <!-- Controles -->
                        <StackPanel Grid.Column="0" Margin="10">
                            <TextBlock Text="Criar Estado em Superposição:" 
                                     FontWeight="Bold" FontSize="14" Margin="0,0,0,10"/>

                            <Button Content="|+⟩ = (|0⟩ + |1⟩)/√2" 
                                    Style="{StaticResource SimulationButtonStyle}"
                                    Background="{StaticResource QuantumColor}"
                                    Click="BtnCreatePlus_Click"
                                    Margin="0,5"/>

                            <Button Content="|−⟩ = (|0⟩ − |1⟩)/√2" 
                                    Style="{StaticResource SimulationButtonStyle}"
                                    Background="{StaticResource QuantumColor}"
                                    Click="BtnCreateMinus_Click"
                                    Margin="0,5"/>

                            <Button Content="Superposição customizada" 
                                    Style="{StaticResource SimulationButtonStyle}"
                                    Background="{StaticResource QuantumColor}"
                                    Click="BtnCreateCustom_Click"
                                    Margin="0,5"/>

                            <Separator Margin="0,20"/>

                            <TextBlock Text="Estado Atual:" 
                                     FontWeight="Bold" FontSize="14" Margin="0,10,0,10"/>

                            <Border Background="#F3E5F5" BorderBrush="{StaticResource QuantumColor}" 
                                    BorderThickness="2" CornerRadius="8" Padding="15">
                                <StackPanel>
                                    <TextBlock x:Name="TxtCurrentState" 
                                             Text="|ψ⟩ = (|0⟩ + |1⟩)/√2"
                                             FontSize="14" FontWeight="SemiBold"
                                             HorizontalAlignment="Center"
                                             Foreground="{StaticResource QuantumColor}"/>

                                    <TextBlock x:Name="TxtProbabilities" 
                                             Text="P(0) = 50%, P(1) = 50%"
                                             FontSize="12"
                                             HorizontalAlignment="Center"
                                             Margin="0,10,0,0"
                                             Foreground="{StaticResource DarkGray}"/>
                                </StackPanel>
                            </Border>

                            <Separator Margin="0,20"/>

                            <Button x:Name="BtnMeasure" Content="📏 MEDIR QUBIT" 
                                    Style="{StaticResource SimulationButtonStyle}"
                                    Background="{StaticResource ErrorColor}"
                                    FontSize="16"
                                    Click="BtnMeasure_Click"
                                    Margin="0,10"
                                    IsEnabled="False"/>

                            <TextBlock x:Name="TxtMeasureResult" 
                                     Text=""
                                     FontSize="14" FontWeight="Bold"
                                     HorizontalAlignment="Center"
                                     Foreground="{StaticResource ErrorColor}"
                                     Margin="0,10,0,0"/>

                            <Button Content="🔄 Resetar" 
                                    Style="{StaticResource SimulationButtonStyle}"
                                    Background="{StaticResource DarkGray}"
                                    Click="BtnResetMeasure_Click"
                                    Margin="0,10"/>
                        </StackPanel>

                        <!-- Visualização -->
                        <Border Grid.Column="1" Background="#FAFAFA" CornerRadius="10" Padding="20" Margin="10">
                            <StackPanel>
                                <TextBlock Text="Esfera de Bloch" 
                                         FontSize="16" FontWeight="Bold"
                                         HorizontalAlignment="Center"
                                         Margin="0,0,0,15"/>

                                <Canvas x:Name="MeasureBlochCanvas" Height="350" Width="350">
                                    <!-- Esfera -->
                                    <Ellipse Canvas.Left="25" Canvas.Top="25" Width="300" Height="300"
                                             Stroke="#9B59B6" StrokeThickness="3" Fill="Transparent"/>

                                    <!-- Equador -->
                                    <Ellipse Canvas.Left="75" Canvas.Top="162" Width="200" Height="30"
                                             Stroke="#CE93D8" StrokeThickness="2" Fill="Transparent" 
                                             Opacity="0.4" StrokeDashArray="3,2"/>

                                    <!-- Eixos -->
                                    <Line X1="175" Y1="25" X2="175" Y2="325" 
                                          Stroke="#BDC3C7" StrokeThickness="2" StrokeDashArray="4,2"/>
                                    <Line X1="25" Y1="175" X2="325" Y2="175" 
                                          Stroke="#BDC3C7" StrokeThickness="2" StrokeDashArray="4,2"/>

                                    <!-- Labels -->
                                    <TextBlock Text="|0⟩" Canvas.Left="165" Canvas.Top="5" 
                                             FontSize="18" FontWeight="Bold" Foreground="#7B1FA2"/>
                                    <TextBlock Text="|1⟩" Canvas.Left="165" Canvas.Top="330" 
                                             FontSize="18" FontWeight="Bold" Foreground="#7B1FA2"/>
                                    <TextBlock Text="|+⟩" Canvas.Left="330" Canvas.Top="165" 
                                             FontSize="16" FontWeight="Bold" Foreground="#F39C12"/>
                                    <TextBlock Text="|−⟩" Canvas.Left="5" Canvas.Top="165" 
                                             FontSize="16" FontWeight="Bold" Foreground="#F39C12"/>

                                    <!-- Vetor de estado (animado) -->
                                    <Line x:Name="MeasureStateVector"
                                          X1="175" Y1="175" X2="275" Y2="175"
                                          Stroke="#E74C3C" StrokeThickness="4" Opacity="0">
                                        <Line.Effect>
                                            <DropShadowEffect Color="#E74C3C" BlurRadius="15" ShadowDepth="0" Opacity="0.6"/>
                                        </Line.Effect>
                                    </Line>

                                    <!-- Ponto no estado -->
                                    <Ellipse x:Name="MeasureStatePoint" 
                                             Width="20" Height="20"
                                             Fill="#FFD700"
                                             Canvas.Left="265" Canvas.Top="165"
                                             Opacity="0">
                                        <Ellipse.Effect>
                                            <DropShadowEffect Color="#FFD700" BlurRadius="25" ShadowDepth="0"/>
                                        </Ellipse.Effect>
                                    </Ellipse>

                                    <!-- Nuvem de superposição (antes da medição) -->
                                    <Ellipse x:Name="SuperpositionCloud"
                                             Canvas.Left="125" Canvas.Top="125" Width="100" Height="100"
                                             Fill="#9B59B6" Opacity="0">
                                        <Ellipse.Effect>
                                            <BlurEffect Radius="30"/>
                                        </Ellipse.Effect>
                                    </Ellipse>
                                </Canvas>

                                <Border Background="#E8F5E9" BorderBrush="#27AE60" BorderThickness="2"
                                        CornerRadius="8" Padding="15" Margin="0,15,0,0">
                                    <TextBlock x:Name="TxtVisualizationStatus"
                                             TextWrapping="Wrap" TextAlignment="Center" FontSize="13" LineHeight="22">
                                        <Run FontWeight="Bold">Estado inicial:</Run>
                                        <LineBreak/>
                                        Crie uma superposição para começar
                                    </TextBlock>
                                </Border>
                            </StackPanel>
                        </Border>
                    </Grid>
                </StackPanel>
            </Border>

            <!-- Simulador 2: Decoerência -->
            <Border Style="{StaticResource CardStyle}" Margin="0,20,0,0">
                <StackPanel>
                    <TextBlock Text="🎮 Simulador 2: Decoerência e Ruído" 
                             FontSize="24" FontWeight="Bold"
                             Foreground="{StaticResource SecondaryColor}"
                             Margin="0,0,0,20"/>

                    <Separator Background="{StaticResource LightGray}" Margin="0,0,0,20"/>

                    <TextBlock Style="{StaticResource ContentTextStyle}" Margin="0,0,0,20">
                        Ajuste o nível de ruído e veja como a decoerência "encolhe" o vetor de estado,
                        transformando um estado puro em uma mistura clássica:
                    </TextBlock>

                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="2*"/>
                        </Grid.ColumnDefinitions>

                        <!-- Controles -->
                        <StackPanel Grid.Column="0" Margin="10">
                            <TextBlock Text="Nível de Ruído (Decoerência):" 
                                     FontWeight="Bold" FontSize="14" Margin="0,0,0,10"/>

                            <Slider x:Name="SliderNoise"
                                    Minimum="0" Maximum="100" Value="0"
                                    TickFrequency="10"
                                    ValueChanged="SliderNoise_ValueChanged"/>

                            <TextBlock x:Name="TxtNoiseLevel"
                                     Text="Ruído: 0% (Estado Puro)"
                                     FontSize="13" FontWeight="SemiBold"
                                     HorizontalAlignment="Center"
                                     Margin="0,10,0,0"/>

                            <Separator Margin="0,20"/>

                            <TextBlock Text="Estado Inicial:" 
                                     FontWeight="Bold" FontSize="14" Margin="0,10,0,10"/>

                            <Button Content="|+⟩ Superposição" 
                                    Style="{StaticResource SimulationButtonStyle}"
                                    Background="{StaticResource QuantumColor}"
                                    Click="BtnDecoherencePlus_Click"
                                    Margin="0,5"/>

                            <Separator Margin="0,20"/>

                            <Border Background="#FFF3E0" BorderBrush="{StaticResource DecoherenceColor}" 
                                    BorderThickness="2" CornerRadius="8" Padding="15">
                                <StackPanel>
                                    <TextBlock Text="Status da Coerência:" 
                                             FontWeight="Bold" FontSize="13"
                                             Foreground="#E65100"
                                             HorizontalAlignment="Center"
                                             Margin="0,0,0,10"/>

                                    <ProgressBar x:Name="CoherenceBar" 
                                               Height="20" 
                                               Value="100"
                                               Minimum="0" Maximum="100"
                                               Foreground="#27AE60"
                                               Background="#FFEBEE"/>

                                    <TextBlock x:Name="TxtCoherence" 
                                             Text="Coerência: 100%"
                                             FontSize="12"
                                             HorizontalAlignment="Center"
                                             Margin="0,5,0,0"/>

                                    <TextBlock x:Name="TxtDecoherenceStatus" 
                                             Text="Estado puro preservado"
                                             FontSize="11"
                                             FontStyle="Italic"
                                             HorizontalAlignment="Center"
                                             Margin="0,10,0,0"
                                             Foreground="{StaticResource DarkGray}"/>
                                </StackPanel>
                            </Border>

                            <Separator Margin="0,20"/>

                            <Border Background="#E3F2FD" CornerRadius="8" Padding="12">
                                <StackPanel>
                                    <TextBlock Text="Tempos característicos:" 
                                             FontWeight="Bold" FontSize="12" Margin="0,0,0,8"/>
                                    <TextBlock x:Name="TxtT1" Text="T₁ (relaxação): infinito" FontSize="11"/>
                                    <TextBlock x:Name="TxtT2" Text="T₂ (dephasing): infinito" FontSize="11" Margin="0,3,0,0"/>
                                </StackPanel>
                            </Border>
                        </StackPanel>

                        <!-- Visualização -->
                        <Border Grid.Column="1" Background="#FAFAFA" CornerRadius="10" Padding="20" Margin="10">
                            <StackPanel>
                                <TextBlock Text="Efeito da Decoerência na Esfera de Bloch" 
                                         FontSize="16" FontWeight="Bold"
                                         HorizontalAlignment="Center"
                                         Margin="0,0,0,15"/>

                                <Canvas x:Name="DecoherenceBlochCanvas" Height="350" Width="350">
                                    <!-- Esfera -->
                                    <Ellipse Canvas.Left="25" Canvas.Top="25" Width="300" Height="300"
                                             Stroke="#9B59B6" StrokeThickness="3" Fill="Transparent"/>

                                    <!-- Equador -->
                                    <Ellipse Canvas.Left="75" Canvas.Top="162" Width="200" Height="30"
                                             Stroke="#CE93D8" StrokeThickness="2" Fill="Transparent" 
                                             Opacity="0.4" StrokeDashArray="3,2"/>

                                    <!-- Eixos -->
                                    <Line X1="175" Y1="25" X2="175" Y2="325" 
                                          Stroke="#BDC3C7" StrokeThickness="2" StrokeDashArray="4,2"/>
                                    <Line X1="25" Y1="175" X2="325" Y2="175" 
                                          Stroke="#BDC3C7" StrokeThickness="2" StrokeDashArray="4,2"/>

                                    <!-- Labels -->
                                    <TextBlock Text="|0⟩" Canvas.Left="165" Canvas.Top="5" 
                                             FontSize="18" FontWeight="Bold" Foreground="#7B1FA2"/>
                                    <TextBlock Text="|1⟩" Canvas.Left="165" Canvas.Top="330" 
                                             FontSize="18" FontWeight="Bold" Foreground="#7B1FA2"/>

                                    <!-- Vetor de estado IDEAL (referência) -->
                                    <Line x:Name="IdealStateVector"
                                          X1="175" Y1="175" X2="275" Y2="175"
                                          Stroke="#27AE60" StrokeThickness="2" 
                                          StrokeDashArray="4,2" Opacity="0.3"/>

                                    <!-- Vetor de estado COM RUÍDO -->
                                    <Line x:Name="NoisyStateVector"
                                          X1="175" Y1="175" X2="275" Y2="175"
                                          Stroke="#F39C12" StrokeThickness="4">
                                        <Line.Effect>
                                            <DropShadowEffect Color="#F39C12" BlurRadius="15" ShadowDepth="0" Opacity="0.6"/>
                                        </Line.Effect>
                                    </Line>

                                    <!-- Ponto no estado -->
                                    <Ellipse x:Name="NoisyStatePoint" 
                                             Width="20" Height="20"
                                             Fill="#FFD700"
                                             Canvas.Left="265" Canvas.Top="165">
                                        <Ellipse.Effect>
                                            <DropShadowEffect Color="#FFD700" BlurRadius="25" ShadowDepth="0"/>
                                        </Ellipse.Effect>
                                    </Ellipse>

                                    <!-- Ondas de ruído (animadas) -->
                                    <Path x:Name="NoiseWave1" Canvas.Left="200" Canvas.Top="100"
                                          Data="M 0 0 Q 5 -5, 10 0 T 20 0" 
                                          Stroke="#E74C3C" StrokeThickness="2" Fill="Transparent" 
                                          Opacity="0"/>
                                    <Path x:Name="NoiseWave2" Canvas.Left="150" Canvas.Top="220"
                                          Data="M 0 0 Q 5 5, 10 0 T 20 0" 
                                          Stroke="#E74C3C" StrokeThickness="2" Fill="Transparent" 
                                          Opacity="0"/>
                                </Canvas>

                                <Border Background="#FFF3E0" BorderBrush="#F39C12" BorderThickness="2"
                                        CornerRadius="8" Padding="15" Margin="0,15,0,0">
                                    <TextBlock TextWrapping="Wrap" TextAlignment="Center" FontSize="13" LineHeight="22">
                                        <Run FontWeight="Bold">💡 Observe:</Run>
                                        <LineBreak/>
                                        Conforme o ruído aumenta, o vetor "encolhe" em direção ao centro.
                                        <LineBreak/>
                                        Isso representa a perda de coerência e a transição para uma mistura clássica.
                                    </TextBlock>
                                </Border>
                            </StackPanel>
                        </Border>
                    </Grid>
                </StackPanel>
            </Border>

            <!-- Seção: Tipos de Erros -->
            <Border Style="{StaticResource CardStyle}" Margin="0,20,0,0">
                <StackPanel>
                    <TextBlock Text="⚡ Tipos de Erros Quânticos" 
                             FontSize="24" FontWeight="Bold"
                             Foreground="{StaticResource SecondaryColor}"
                             Margin="0,0,0,15"/>

                    <Separator Background="{StaticResource LightGray}" Margin="0,0,0,20"/>

                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <!-- Bit Flip -->
                        <Border Grid.Row="0" Grid.Column="0" Background="#FFEBEE" CornerRadius="10" Padding="15" Margin="5">
                            <StackPanel>
                                <TextBlock Text="🔄 Bit Flip (X)" 
                                         FontSize="16" FontWeight="Bold"
                                         Foreground="#C62828"
                                         HorizontalAlignment="Center"
                                         Margin="0,0,0,10"/>

                                <Border Background="White" CornerRadius="6" Padding="12">
                                    <TextBlock TextWrapping="Wrap" FontSize="12" LineHeight="20">
                                        Inverte o estado:
                                        <LineBreak/>
                                        0⟩ para 1⟩
                                        <LineBreak/><LineBreak/>
                                        
                                        <Run FontWeight="SemiBold">Causa:</Run>
                                        <LineBreak/>
                                        <Run Text="• Flutuações de energia"/>
                                        <LineBreak/>
                                        <Run Text="• Ruído eletromagnético"/>
                                        <LineBreak/><LineBreak/>
                                        
                                        <Run FontWeight="SemiBold">Taxa típica:</Run><Run Text=" 0.1-1%"/>
                                    </TextBlock>
                                </Border>
                            </StackPanel>
                        </Border>

                        <!-- Phase Flip -->
                        <Border Grid.Row="0" Grid.Column="1" Background="#F3E5F5" CornerRadius="10" Padding="15" Margin="5">
                            <StackPanel>
                                <TextBlock Text="🌀 Phase Flip (Z)" 
                                         FontSize="16" FontWeight="Bold"
                                         Foreground="#7B1FA2"
                                         HorizontalAlignment="Center"
                                         Margin="0,0,0,10"/>

                                <Border Background="White" CornerRadius="6" Padding="12">
                                    <TextBlock TextWrapping="Wrap" FontSize="12" LineHeight="20">
                                        Inverte a fase:
                                        <LineBreak/>
                                        +⟩ para −⟩
                                        <LineBreak/><LineBreak/>
                                        
                                        <Run FontWeight="SemiBold">Causa:</Run>
                                        <LineBreak/>
                                        <Run Text="• Campos magnéticos"/>
                                        <LineBreak/>
                                        <Run Text="• Flutuações de fase"/>
                                        <LineBreak/><LineBreak/>
                                        
                                        <Run FontWeight="SemiBold">Taxa típica:</Run><Run Text=" 0.1-1%"/>
                                    </TextBlock>
                                </Border>
                            </StackPanel>
                        </Border>

                        <!-- Relaxação T1 -->
                        <Border Grid.Row="0" Grid.Column="2" Background="#E3F2FD" CornerRadius="10" Padding="15" Margin="5">
                            <StackPanel>
                                <TextBlock Text="📉 Relaxação (T₁)" 
                                         FontSize="16" FontWeight="Bold"
                                         Foreground="#1976D2"
                                         HorizontalAlignment="Center"
                                         Margin="0,0,0,10"/>

                                <Border Background="White" CornerRadius="6" Padding="12">
                                    <TextBlock TextWrapping="Wrap" FontSize="12" LineHeight="20">
                                        Qubit "cai" para 0⟩:
                                        <LineBreak/>
                                        1⟩ para 0⟩
                                        <LineBreak/><LineBreak/>
                                        
                                        <Run FontWeight="SemiBold">Causa:</Run>
                                        <LineBreak/>
                                        <Run Text="• Emissão de fóton"/>
                                        <LineBreak/>
                                        <Run Text="• Perda de energia"/>
                                        <LineBreak/><LineBreak/>
                                        
                                        <Run FontWeight="SemiBold">Tempo T₁:</Run><Run Text=" 10-100 μs"/>
                                    </TextBlock>
                                </Border>
                            </StackPanel>
                        </Border>

                        <!-- Dephasing T2 -->
                        <Border Grid.Row="1" Grid.Column="0" Background="#FFF3E0" CornerRadius="10" Padding="15" Margin="5">
                            <StackPanel>
                                <TextBlock Text="🌊 Dephasing (T₂)" 
                                         FontSize="16" FontWeight="Bold"
                                         Foreground="#E65100"
                                         HorizontalAlignment="Center"
                                         Margin="0,0,0,10"/>

                                <Border Background="White" CornerRadius="6" Padding="12">
                                    <TextBlock TextWrapping="Wrap" FontSize="12" LineHeight="20">
                                        Perde coerência:
                                        <LineBreak/>
                                        Superposição para mistura
                                        <LineBreak/><LineBreak/>
                                        
                                        <Run FontWeight="SemiBold">Causa:</Run>
                                        <LineBreak/>
                                        <Run Text="• Ruído de fase"/>
                                        <LineBreak/>
                                        <Run Text="• Flutuações aleatórias"/>
                                        <LineBreak/><LineBreak/>
                                        
                                        <Run FontWeight="SemiBold">Tempo T₂:</Run><Run Text=" T₂ ≤ 2T₁"/>
                                    </TextBlock>
                                </Border>
                            </StackPanel>
                        </Border>

                        <!-- Erro de Porta -->
                        <Border Grid.Row="1" Grid.Column="1" Background="#E8F5E9" CornerRadius="10" Padding="15" Margin="5">
                            <StackPanel>
                                <TextBlock Text="⚙️ Erro de Porta" 
                                         FontSize="16" FontWeight="Bold"
                                         Foreground="#2E7D32"
                                         HorizontalAlignment="Center"
                                         Margin="0,0,0,10"/>

                                <Border Background="White" CornerRadius="6" Padding="12">
                                    <TextBlock TextWrapping="Wrap" FontSize="12" LineHeight="20">
                                        Operação imperfeita:
                                        <LineBreak/>
                                        U diferente de U_ideal
                                        <LineBreak/><LineBreak/>
                                        
                                        <Run FontWeight="SemiBold">Causa:</Run>
                                        <LineBreak/>
                                        <Run Text="• Pulso mal calibrado"/>
                                        <LineBreak/>
                                        <Run Text="• Cross-talk"/>
                                        <LineBreak/><LineBreak/>
                                        
                                        <Run FontWeight="SemiBold">Taxa:</Run><Run Text=" 0.1-1% por porta"/>
                                    </TextBlock>
                                </Border>
                            </StackPanel>
                        </Border>

                        <!-- Erro de Leitura -->
                        <Border Grid.Row="1" Grid.Column="2" Background="#FCE4EC" CornerRadius="10" Padding="15" Margin="5">
                            <StackPanel>
                                <TextBlock Text="📏 Erro de Leitura" 
                                         FontSize="16" FontWeight="Bold"
                                         Foreground="#880E4F"
                                         HorizontalAlignment="Center"
                                         Margin="0,0,0,10"/>

                                <Border Background="White" CornerRadius="6" Padding="12">
                                    <TextBlock TextWrapping="Wrap" FontSize="12" LineHeight="20">
                                        Medição errada:
                                        <LineBreak/>
                                        Lê 0 quando é 1, ou vice-versa
                                        <LineBreak/><LineBreak/>
                                        
                                        <Run FontWeight="SemiBold">Causa:</Run>
                                        <LineBreak/>
                                        <Run Text="• Detectores imperfeitos"/>
                                        <LineBreak/>
                                        <Run Text="• Ruído térmico"/>
                                        <LineBreak/><LineBreak/>
                                        
                                        <Run FontWeight="SemiBold">Taxa:</Run><Run Text=" 1-5%"/>
                                    </TextBlock>
                                </Border>
                            </StackPanel>
                        </Border>
                    </Grid>
                </StackPanel>
            </Border>

            <!-- Tabela Comparativa -->
            <Border Style="{StaticResource CardStyle}" Margin="0,20,0,0">
                <StackPanel>
                    <TextBlock Text="⚖️ Comparação: Medição vs Decoerência" 
                             FontSize="24" FontWeight="Bold"
                             Foreground="{StaticResource SecondaryColor}"
                             Margin="0,0,0,15"/>

                    <Separator Background="{StaticResource LightGray}" Margin="0,0,0,20"/>

                    <!-- Header -->
                    <Grid Margin="0,0,0,10">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="2*"/>
                            <ColumnDefinition Width="3*"/>
                            <ColumnDefinition Width="3*"/>
                        </Grid.ColumnDefinitions>

                        <Border Grid.Column="0" Background="{StaticResource LightGray}" 
                                Padding="12" CornerRadius="8,0,0,0">
                            <TextBlock Text="Aspecto" FontWeight="Bold" FontSize="14"/>
                        </Border>
                        <Border Grid.Column="1" Background="#FFEBEE" Padding="12">
                            <TextBlock Text="📏 Medição" FontWeight="Bold" FontSize="14" Foreground="#C62828"/>
                        </Border>
                        <Border Grid.Column="2" Background="#FFF3E0" 
                                Padding="12" CornerRadius="0,8,0,0">
                            <TextBlock Text="🌊 Decoerência" FontWeight="Bold" FontSize="14" Foreground="#E65100"/>
                        </Border>
                    </Grid>

                    <!-- Natureza -->
                    <Grid Margin="0,2">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="2*"/>
                            <ColumnDefinition Width="3*"/>
                            <ColumnDefinition Width="3*"/>
                        </Grid.ColumnDefinitions>
                        <Border Grid.Column="0" Background="#FAFAFA" Padding="12" BorderBrush="{StaticResource LightGray}" BorderThickness="1">
                            <TextBlock Text="⭐ Natureza" FontWeight="Bold" Foreground="#E74C3C"/>
                        </Border>
                        <Border Grid.Column="1" Background="White" Padding="12" BorderBrush="{StaticResource LightGray}" BorderThickness="0,1,1,1">
                            <TextBlock Style="{StaticResource ContentTextStyle}" Margin="0">
                                <Run FontWeight="Bold">Processo controlado</Run>
                                <LineBreak/>
                                Observação intencional do qubit
                            </TextBlock>
                        </Border>
                        <Border Grid.Column="2" Background="White" Padding="12" BorderBrush="{StaticResource LightGray}" BorderThickness="0,1,1,1">
                            <TextBlock Style="{StaticResource ContentTextStyle}" Margin="0">
                                <Run FontWeight="Bold">Processo descontrolado</Run>
                                <LineBreak/>
                                Interação com ambiente externo
                            </TextBlock>
                        </Border>
                    </Grid>

                    <!-- Efeito -->
                    <Grid Margin="0,2">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="2*"/>
                            <ColumnDefinition Width="3*"/>
                            <ColumnDefinition Width="3*"/>
                        </Grid.ColumnDefinitions>
                        <Border Grid.Column="0" Background="#FAFAFA" Padding="12" BorderBrush="{StaticResource LightGray}" BorderThickness="1">
                            <TextBlock Text="Efeito" FontWeight="SemiBold"/>
                        </Border>
                        <Border Grid.Column="1" Background="White" Padding="12" BorderBrush="{StaticResource LightGray}" BorderThickness="0,1,1,1">
                            <TextBlock Style="{StaticResource ContentTextStyle}" Margin="0">
                                Colapso completo
                                <LineBreak/>
                                ψ⟩ para 0⟩ ou 1⟩ (instantâneo)
                            </TextBlock>
                        </Border>
                        <Border Grid.Column="2" Background="White" Padding="12" BorderBrush="{StaticResource LightGray}" BorderThickness="0,1,1,1">
                            <TextBlock Style="{StaticResource ContentTextStyle}" Margin="0">
                                Perda gradual de coerência
                                <LineBreak/>
                                Estado puro para mistura (ao longo do tempo)
                            </TextBlock>
                        </Border>
                    </Grid>

                    <!-- Reversibilidade -->
                    <Grid Margin="0,2">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="2*"/>
                            <ColumnDefinition Width="3*"/>
                            <ColumnDefinition Width="3*"/>
                        </Grid.ColumnDefinitions>
                        <Border Grid.Column="0" Background="#FAFAFA" Padding="12" BorderBrush="{StaticResource LightGray}" BorderThickness="1">
                            <TextBlock Text="Reversibilidade" FontWeight="SemiBold"/>
                        </Border>
                        <Border Grid.Column="1" Background="White" Padding="12" BorderBrush="{StaticResource LightGray}" BorderThickness="0,1,1,1">
                            <TextBlock Text="Irreversível (informação perdida)" Style="{StaticResource ContentTextStyle}" Margin="0"/>
                        </Border>
                        <Border Grid.Column="2" Background="White" Padding="12" BorderBrush="{StaticResource LightGray}" BorderThickness="0,1,1,1">
                            <TextBlock Text="Irreversível (coerência destruída)" Style="{StaticResource ContentTextStyle}" Margin="0"/>
                        </Border>
                    </Grid>

                    <!-- Velocidade -->
                    <Grid Margin="0,2">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="2*"/>
                            <ColumnDefinition Width="3*"/>
                            <ColumnDefinition Width="3*"/>
                        </Grid.ColumnDefinitions>
                        <Border Grid.Column="0" Background="#FAFAFA" Padding="12" BorderBrush="{StaticResource LightGray}" BorderThickness="1">
                            <TextBlock Text="Velocidade" FontWeight="SemiBold"/>
                        </Border>
                        <Border Grid.Column="1" Background="White" Padding="12" BorderBrush="{StaticResource LightGray}" BorderThickness="0,1,1,1">
                            <TextBlock Text="Instantânea" Style="{StaticResource ContentTextStyle}" Margin="0"/>
                        </Border>
                        <Border Grid.Column="2" Background="White" Padding="12" BorderBrush="{StaticResource LightGray}" BorderThickness="0,1,1,1">
                            <TextBlock Text="Gradual (escalas de tempo T₁, T₂)" Style="{StaticResource ContentTextStyle}" Margin="0"/>
                        </Border>
                    </Grid>

                    <!-- Resultado Final -->
                    <Grid Margin="0,2">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="2*"/>
                            <ColumnDefinition Width="3*"/>
                            <ColumnDefinition Width="3*"/>
                        </Grid.ColumnDefinitions>
                        <Border Grid.Column="0" Background="#FAFAFA" Padding="12" BorderBrush="{StaticResource LightGray}" BorderThickness="1" CornerRadius="0,0,0,8">
                            <TextBlock Text="Resultado Final" FontWeight="SemiBold"/>
                        </Border>
                        <Border Grid.Column="1" Background="White" Padding="12" BorderBrush="{StaticResource LightGray}" BorderThickness="0,1,1,1">
                            <TextBlock Style="{StaticResource ContentTextStyle}" Margin="0">
                                <Run FontWeight="Bold">Bit clássico</Run>
                                <LineBreak/>
                                (0 ou 1)
                            </TextBlock>
                        </Border>
                        <Border Grid.Column="2" Background="White" Padding="12" BorderBrush="{StaticResource LightGray}" BorderThickness="0,1,1,1" CornerRadius="0,0,8,0">
                            <TextBlock Style="{StaticResource ContentTextStyle}" Margin="0">
                                <Run FontWeight="Bold">Mistura estatística</Run>
                                <LineBreak/>
                                (p·0⟩⟨0 + (1-p)·1⟩⟨1)
                            </TextBlock>
                        </Border>
                    </Grid>
                </StackPanel>
            </Border>

            <!-- Conclusão -->
            <Border Style="{StaticResource CardStyle}" Margin="0,20,0,40">
                <Border.Background>
                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                        <GradientStop Color="#FFEBEE" Offset="0"/>
                        <GradientStop Color="#FFF3E0" Offset="1"/>
                    </LinearGradientBrush>
                </Border.Background>

                <StackPanel>
                    <TextBlock Text="💭 Síntese Final" 
                             FontSize="24" FontWeight="Bold"
                             Foreground="{StaticResource SecondaryColor}"
                             HorizontalAlignment="Center"
                             Margin="0,0,0,20"/>

                    <Border Background="White" CornerRadius="10" Padding="25"
                            BorderBrush="{StaticResource ErrorColor}" BorderThickness="2">
                        <TextBlock TextWrapping="Wrap" TextAlignment="Center"
                                 LineHeight="28" FontSize="16"
                                 Foreground="{StaticResource SecondaryColor}">
                            <Run FontSize="20" Text="⚠️" />
                            <LineBreak/>
                            <Run FontWeight="Bold" FontSize="18" Foreground="#27AE60">
                                Computação quântica ideal = evolução unitária reversível
                            </Run>
                            <LineBreak/>
                            <Run FontWeight="Bold" FontSize="18" Foreground="#E74C3C">
                                Medição = colapso intencional e irreversível
                            </Run>
                            <LineBreak/>
                            <Run FontWeight="Bold" FontSize="18" Foreground="#F39C12">
                                Decoerência = destruição gradual pela interação com ambiente
                            </Run>
                            <LineBreak/><LineBreak/>
                            <Run FontWeight="Bold" FontSize="17">
                                A fragilidade da informação quântica é o grande desafio:
                            </Run>
                            <LineBreak/>
                            <Run FontSize="15">
                                Erros se acumulam rapidamente,
                            </Run>
                            <LineBreak/>
                            <Run FontSize="15">
                                limitando profundidade dos circuitos.
                            </Run>
                            <LineBreak/><LineBreak/>
                            <Run FontStyle="Italic" Foreground="{StaticResource DarkGray}" FontSize="14">
                                "A solução: correção de erros quânticos, isolamento extremo do ambiente,
                                e tempos de coerência cada vez maiores. A batalha contra a decoerência
                                define o futuro da computação quântica."
                            </Run>
                            <LineBreak/>
                            <Run FontSize="20" Text="⚠️" />
                        </TextBlock>
                    </Border>

                    <!-- Box adicional sobre correção de erros -->
                    <Border Background="#E8F5E9" BorderBrush="#27AE60" BorderThickness="2"
                            CornerRadius="10" Padding="20" Margin="0,20,0,0">
                        <StackPanel>
                            <TextBlock Text="🛡️ A Resposta: Correção de Erros Quânticos" 
                                     FontSize="16" FontWeight="Bold"
                                     Foreground="#2E7D32"
                                     HorizontalAlignment="Center"
                                     Margin="0,0,0,15"/>

                            <TextBlock TextWrapping="Wrap" LineHeight="24" FontSize="14">
                                Para combater erros, usamos:
                                <LineBreak/><LineBreak/>
                                
                                <Run FontWeight="Bold">• Códigos de correção:</Run><Run Text=" "/>
                                <Run Text="Codificam 1 qubit lógico em vários qubits físicos"/>
                                <LineBreak/>
                                <Run FontWeight="Bold">• Detecção de erros:</Run><Run Text=" "/>
                                <Run Text="Síndrome de erro sem medir o estado"/>
                                <LineBreak/>
                                <Run FontWeight="Bold">• Tolerância a falhas:</Run><Run Text=" "/>
                                <Run Text="Algoritmos que funcionam mesmo com erros"/>
                                <LineBreak/>
                                <Run FontWeight="Bold">• Isolamento:</Run><Run Text=" "/>
                                <Run Text="Temperaturas criogênicas, vácuo, blindagem"/>
                                <LineBreak/><LineBreak/>
                                
                                <Run FontWeight="Bold">Meta atual:</Run><Run Text=" "/>
                                <Run Text="Qubits lógicos com taxas de erro menor que 10⁻⁶ para computação universal."/>
                            </TextBlock>
                        </StackPanel>
                    </Border>
                </StackPanel>
            </Border>
        </StackPanel>
    </ScrollViewer>
</UserControl>