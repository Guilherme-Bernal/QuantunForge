<UserControl x:Class="Quantun_Forge.src.views.Entropia"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             mc:Ignorable="d" 
             d:DesignHeight="800" d:DesignWidth="1000"
             Background="White">

    <UserControl.Resources>
        <!-- Cores -->
        <SolidColorBrush x:Key="PrimaryColor" Color="#3498DB"/>
        <SolidColorBrush x:Key="SecondaryColor" Color="#2C3E50"/>
        <SolidColorBrush x:Key="AccentColor" Color="#E74C3C"/>
        <SolidColorBrush x:Key="SuccessColor" Color="#27AE60"/>
        <SolidColorBrush x:Key="WarningColor" Color="#F39C12"/>
        <SolidColorBrush x:Key="LightGray" Color="#ECF0F1"/>
        <SolidColorBrush x:Key="DarkGray" Color="#7F8C8D"/>
        <SolidColorBrush x:Key="ClassicalColor" Color="#3498DB"/>
        <SolidColorBrush x:Key="QuantumColor" Color="#9B59B6"/>
        <SolidColorBrush x:Key="ShannonColor" Color="#3498DB"/>
        <SolidColorBrush x:Key="VonNeumannColor" Color="#9B59B6"/>

        <!-- Estilos -->
        <Style x:Key="CardStyle" TargetType="Border">
            <Setter Property="Background" Value="White"/>
            <Setter Property="CornerRadius" Value="12"/>
            <Setter Property="Padding" Value="25"/>
            <Setter Property="Margin" Value="10"/>
            <Setter Property="Effect">
                <Setter.Value>
                    <DropShadowEffect Color="#BDC3C7" BlurRadius="15" ShadowDepth="3" Opacity="0.3"/>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="SimulationButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="{StaticResource PrimaryColor}"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Padding" Value="20,12"/>
            <Setter Property="Margin" Value="5"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" CornerRadius="8">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#2980B9"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="BadgeStyle" TargetType="Border">
            <Setter Property="CornerRadius" Value="15"/>
            <Setter Property="Padding" Value="12,6"/>
            <Setter Property="Margin" Value="5,0"/>
        </Style>

        <Style x:Key="SectionTitleStyle" TargetType="TextBlock">
            <Setter Property="FontSize" Value="28"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Foreground" Value="{StaticResource SecondaryColor}"/>
            <Setter Property="Margin" Value="0,0,0,15"/>
        </Style>

        <Style x:Key="ContentTextStyle" TargetType="TextBlock">
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Foreground" Value="{StaticResource SecondaryColor}"/>
            <Setter Property="TextWrapping" Value="Wrap"/>
            <Setter Property="LineHeight" Value="22"/>
            <Setter Property="Margin" Value="0,5"/>
        </Style>
    </UserControl.Resources>

    <ScrollViewer VerticalScrollBarVisibility="Auto" 
                  HorizontalScrollBarVisibility="Disabled"
                  Background="#FAFAFA">
        <StackPanel MaxWidth="1200" Margin="40,30">

            <!-- Header -->
            <Border Style="{StaticResource CardStyle}" Margin="0,0,0,20">
                <StackPanel>
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,15">
                        <Viewbox Width="50" Height="50" Margin="0,0,15,0">
                            <Canvas Width="100" Height="100">
                                <!-- Símbolo de informação clássica -->
                                <Rectangle Canvas.Left="5" Canvas.Top="20" Width="15" Height="35" 
                                          Fill="#3498DB" RadiusX="2" RadiusY="2"/>
                                <Rectangle Canvas.Left="25" Canvas.Top="30" Width="15" Height="25" 
                                          Fill="#3498DB" RadiusX="2" RadiusY="2"/>
                                <Rectangle Canvas.Left="45" Canvas.Top="15" Width="15" Height="40" 
                                          Fill="#3498DB" RadiusX="2" RadiusY="2"/>

                                <!-- Seta de transformação -->
                                <Path Data="M 68 35 L 78 35 L 75 32 M 78 35 L 75 38" 
                                      Stroke="#E74C3C" StrokeThickness="2"/>

                                <!-- Símbolo quântico -->
                                <Ellipse Canvas.Left="82" Canvas.Top="25" Width="15" Height="15"
                                        Stroke="#9B59B6" StrokeThickness="2" Fill="Transparent"/>
                                <Path Canvas.Left="89.5" Canvas.Top="32.5"
                                      Data="M 0 -7 L 0 7 M -7 0 L 7 0"
                                      Stroke="#9B59B6" StrokeThickness="2"/>
                            </Canvas>
                        </Viewbox>
                        <StackPanel VerticalAlignment="Center">
                            <TextBlock Text="📊 Entropia: Shannon vs von Neumann" 
                                     Style="{StaticResource SectionTitleStyle}" Margin="0"/>
                            <TextBlock Text="Comparação entre Informação Clássica e Quântica" 
                                     FontSize="16" Foreground="{StaticResource DarkGray}" FontStyle="Italic"/>
                        </StackPanel>
                    </StackPanel>

                    <StackPanel Orientation="Horizontal" Margin="0,10,0,15">
                        <Border Style="{StaticResource BadgeStyle}" Background="#E3F2FD">
                            <TextBlock Text="📈 Shannon (Clássica)" Foreground="#1976D2" FontWeight="SemiBold" FontSize="12"/>
                        </Border>
                        <Border Style="{StaticResource BadgeStyle}" Background="#F3E5F5">
                            <TextBlock Text="⚛️ von Neumann (Quântica)" Foreground="#7B1FA2" FontWeight="SemiBold" FontSize="12"/>
                        </Border>
                        <Border Style="{StaticResource BadgeStyle}" Background="#E8F5E9">
                            <TextBlock Text="🔄 Comparação" Foreground="#2E7D32" FontWeight="SemiBold" FontSize="12"/>
                        </Border>
                    </StackPanel>

                    <Separator Background="{StaticResource LightGray}" Margin="0,15,0,20"/>

                    <TextBlock Style="{StaticResource ContentTextStyle}" FontSize="15">
                        <Run FontWeight="Bold" FontSize="16">🎯 Conceito Fundamental:</Run>
                        <LineBreak/><LineBreak/>
                        
                        A <Run FontWeight="Bold">entropia</Run> é uma medida da incerteza ou da quantidade de informação em um sistema.
                        <LineBreak/><LineBreak/>
                        
                        <Run FontWeight="Bold" Foreground="#3498DB">• SHANNON (Clássica):</Run>
                        <Run Text=" Mede a incerteza de uma fonte de símbolos clássicos"/>
                        <LineBreak/>
                        <Run Text="  H(X) = -Σ pᵢ log₂(pᵢ) bits"/>
                        <LineBreak/><LineBreak/>
                        
                        <Run FontWeight="Bold" Foreground="#9B59B6">• VON NEUMANN (Quântica):</Run>
                        <Run Text=" Generaliza para estados quânticos com matriz densidade ρ"/>
                        <LineBreak/>
                        <Run Text="  S(ρ) = -Tr(ρ log₂(ρ)) = -Σ λᵢ log₂(λᵢ) bits"/>
                        <LineBreak/><LineBreak/>
                        
                        <Run FontWeight="Bold" Foreground="#27AE60">✨ CONEXÃO:</Run>
                        <Run Text=" Quando ρ é diagonal, S(ρ) = H(X) dos autovalores!"/>
                    </TextBlock>
                </StackPanel>
            </Border>

            <!-- Comparação Lado a Lado: Shannon vs von Neumann -->
            <Border Style="{StaticResource CardStyle}">
                <StackPanel>
                    <TextBlock Text="⚖️ Comparação Direta" 
                             FontSize="24" FontWeight="Bold"
                             Foreground="{StaticResource SecondaryColor}"
                             Margin="0,0,0,15"/>

                    <Separator Background="{StaticResource LightGray}" Margin="0,0,0,20"/>

                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <!-- Entropia de Shannon -->
                        <Border Grid.Column="0" Background="#E3F2FD" CornerRadius="10" Padding="20" Margin="5">
                            <StackPanel>
                                <TextBlock Text="📈 Entropia de Shannon" 
                                         FontSize="18" FontWeight="Bold"
                                         Foreground="#1976D2"
                                         HorizontalAlignment="Center"
                                         Margin="0,0,0,15"/>

                                <Border Background="White" BorderBrush="#3498DB" BorderThickness="2"
                                        CornerRadius="8" Padding="15">
                                    <StackPanel>
                                        <TextBlock TextWrapping="Wrap" LineHeight="24" FontSize="13">
                                            <Run FontWeight="Bold" FontSize="14">Fórmula:</Run>
                                            <LineBreak/>
                                            H(X) = -Σ pᵢ log₂(pᵢ)
                                            <LineBreak/><LineBreak/>
                                            
                                            <Run FontWeight="Bold" FontSize="14">Contexto:</Run>
                                            <LineBreak/>
                                            <Run Text="• Teoria da informação clássica"/>
                                            <LineBreak/>
                                            <Run Text="• Claude Shannon (1948)"/>
                                            <LineBreak/>
                                            <Run Text="• Fonte emite símbolos xᵢ"/>
                                            <LineBreak/>
                                            <Run Text="• Probabilidades pᵢ"/>
                                            <LineBreak/><LineBreak/>
                                            
                                            <Run FontWeight="Bold" FontSize="14">Interpretação:</Run>
                                            <LineBreak/>
                                            <Run Text="• Incerteza média da fonte"/>
                                            <LineBreak/>
                                            <Run Text="• Bits necessários por símbolo"/>
                                            <LineBreak/>
                                            <Run Text="• H = 0: totalmente previsível"/>
                                            <LineBreak/>
                                            <Run Text="• H máximo: equiprovável"/>
                                        </TextBlock>
                                    </StackPanel>
                                </Border>

                                <!-- Exemplo visual -->
                                <Border Background="White" CornerRadius="8" Padding="15" Margin="0,15,0,0"
                                        BorderBrush="#3498DB" BorderThickness="1">
                                    <StackPanel>
                                        <TextBlock Text="💡 Exemplo: Moeda" FontWeight="Bold" FontSize="13"
                                                 Foreground="#1976D2" Margin="0,0,0,10"/>

                                        <TextBlock TextWrapping="Wrap" FontSize="12" LineHeight="20">
                                            <Run Text="• Moeda justa: p(H)=0.5, p(T)=0.5"/>
                                            <LineBreak/>
                                            <Run Text="  H = 1 bit (máxima incerteza)"/>
                                            <LineBreak/><LineBreak/>
                                            
                                            <Run Text="• Moeda viciada: p(H)=1, p(T)=0"/>
                                            <LineBreak/>
                                            <Run Text="  H = 0 bits (sem incerteza)"/>
                                        </TextBlock>
                                    </StackPanel>
                                </Border>

                                <!-- Aplicações -->
                                <Border Background="#BBDEFB" CornerRadius="8" Padding="12" Margin="0,10,0,0">
                                    <StackPanel>
                                        <TextBlock Text="🎯 Aplicações:" FontWeight="Bold" FontSize="12"
                                                 Margin="0,0,0,8"/>
                                        <TextBlock TextWrapping="Wrap" FontSize="11" LineHeight="18">
                                            <Run Text="• Compressão de dados"/>
                                            <LineBreak/>
                                            <Run Text="• Codificação eficiente"/>
                                            <LineBreak/>
                                            <Run Text="• Capacidade de canais"/>
                                            <LineBreak/>
                                            <Run Text="• Criptografia clássica"/>
                                        </TextBlock>
                                    </StackPanel>
                                </Border>
                            </StackPanel>
                        </Border>

                        <!-- Entropia de von Neumann -->
                        <Border Grid.Column="1" Background="#F3E5F5" CornerRadius="10" Padding="20" Margin="5">
                            <StackPanel>
                                <TextBlock Text="⚛️ Entropia de von Neumann" 
                                         FontSize="18" FontWeight="Bold"
                                         Foreground="#7B1FA2"
                                         HorizontalAlignment="Center"
                                         Margin="0,0,0,15"/>

                                <Border Background="White" BorderBrush="#9B59B6" BorderThickness="2"
                                        CornerRadius="8" Padding="15">
                                    <StackPanel>
                                        <TextBlock TextWrapping="Wrap" LineHeight="24" FontSize="13">
                                            <Run FontWeight="Bold" FontSize="14">Fórmula:</Run>
                                            <LineBreak/>
                                            S(ρ) = -Tr(ρ log₂(ρ))
                                            <LineBreak/>
                                            S(ρ) = -Σ λᵢ log₂(λᵢ)
                                            <LineBreak/><LineBreak/>
                                            
                                            <Run FontWeight="Bold" FontSize="14">Contexto:</Run>
                                            <LineBreak/>
                                            <Run Text="• Teoria quântica da informação"/>
                                            <LineBreak/>
                                            <Run Text="• John von Neumann (1932)"/>
                                            <LineBreak/>
                                            <Run Text="• Matriz densidade ρ"/>
                                            <LineBreak/>
                                            <Run Text="• Autovalores λᵢ"/>
                                            <LineBreak/><LineBreak/>
                                            
                                            <Run FontWeight="Bold" FontSize="14">Interpretação:</Run>
                                            <LineBreak/>
                                            <Run Text="• Grau de mistura do estado"/>
                                            <LineBreak/>
                                            <Run Text="• Incerteza quântica"/>
                                            <LineBreak/>
                                            <Run Text="• S = 0: estado puro"/>
                                            <LineBreak/>
                                            <Run Text="• S maior que 0: estado misto"/>
                                        </TextBlock>
                                    </StackPanel>
                                </Border>

                                <!-- Exemplo visual -->
                                <Border Background="White" CornerRadius="8" Padding="15" Margin="0,15,0,0"
                                        BorderBrush="#9B59B6" BorderThickness="1">
                                    <StackPanel>
                                        <TextBlock Text="💡 Exemplo: Qubit" FontWeight="Bold" FontSize="13"
                                                 Foreground="#7B1FA2" Margin="0,0,0,10"/>

                                        <TextBlock TextWrapping="Wrap" FontSize="12" LineHeight="20">
                                            <Run Text="• Estado puro: ψ⟩ = α0⟩ + β1⟩"/>
                                            <LineBreak/>
                                            <Run Text="  S(ρ) = 0 (sem incerteza)"/>
                                            <LineBreak/><LineBreak/>
                                            
                                            <Run Text="• Mistura: ρ = 0.5(0⟩⟨0 + 1⟩⟨1)"/>
                                            <LineBreak/>
                                            <Run Text="  S(ρ) = 1 bit (máxima mistura)"/>
                                        </TextBlock>
                                    </StackPanel>
                                </Border>

                                <!-- Aplicações -->
                                <Border Background="#E1BEE7" CornerRadius="8" Padding="12" Margin="0,10,0,0">
                                    <StackPanel>
                                        <TextBlock Text="🎯 Aplicações:" FontWeight="Bold" FontSize="12"
                                                 Margin="0,0,0,8"/>
                                        <TextBlock TextWrapping="Wrap" FontSize="11" LineHeight="18">
                                            <Run Text="• Medida de emaranhamento"/>
                                            <LineBreak/>
                                            <Run Text="• Pureza de estados quânticos"/>
                                            <LineBreak/>
                                            <Run Text="• Canais quânticos"/>
                                            <LineBreak/>
                                            <Run Text="• Criptografia quântica"/>
                                        </TextBlock>
                                    </StackPanel>
                                </Border>
                            </StackPanel>
                        </Border>
                    </Grid>
                </StackPanel>
            </Border>

            <!-- Tabela Comparativa Detalhada -->
            <Border Style="{StaticResource CardStyle}" Margin="0,20,0,0">
                <StackPanel>
                    <TextBlock Text="📋 Tabela Comparativa Detalhada" 
                             FontSize="24" FontWeight="Bold"
                             Foreground="{StaticResource SecondaryColor}"
                             Margin="0,0,0,15"/>

                    <Separator Background="{StaticResource LightGray}" Margin="0,0,0,20"/>

                    <!-- Header -->
                    <Grid Margin="0,0,0,10">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="2*"/>
                            <ColumnDefinition Width="3*"/>
                            <ColumnDefinition Width="3*"/>
                        </Grid.ColumnDefinitions>

                        <Border Grid.Column="0" Background="{StaticResource LightGray}" 
                                Padding="12" CornerRadius="8,0,0,0">
                            <TextBlock Text="Aspecto" FontWeight="Bold" FontSize="14"/>
                        </Border>
                        <Border Grid.Column="1" Background="#E3F2FD" Padding="12">
                            <TextBlock Text="📈 Shannon (Clássica)" FontWeight="Bold" FontSize="14" Foreground="#1976D2"/>
                        </Border>
                        <Border Grid.Column="2" Background="#F3E5F5" 
                                Padding="12" CornerRadius="0,8,0,0">
                            <TextBlock Text="⚛️ von Neumann (Quântica)" FontWeight="Bold" FontSize="14" Foreground="#7B1FA2"/>
                        </Border>
                    </Grid>

                    <!-- Objeto -->
                    <Grid Margin="0,2">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="2*"/>
                            <ColumnDefinition Width="3*"/>
                            <ColumnDefinition Width="3*"/>
                        </Grid.ColumnDefinitions>
                        <Border Grid.Column="0" Background="#FAFAFA" Padding="12" BorderBrush="{StaticResource LightGray}" BorderThickness="1">
                            <TextBlock Text="🎯 Objeto medido" FontWeight="Bold"/>
                        </Border>
                        <Border Grid.Column="1" Background="White" Padding="12" BorderBrush="{StaticResource LightGray}" BorderThickness="0,1,1,1">
                            <TextBlock Style="{StaticResource ContentTextStyle}" Margin="0">
                                Distribuição de probabilidades pᵢ de uma variável aleatória clássica X
                            </TextBlock>
                        </Border>
                        <Border Grid.Column="2" Background="White" Padding="12" BorderBrush="{StaticResource LightGray}" BorderThickness="0,1,1,1">
                            <TextBlock Style="{StaticResource ContentTextStyle}" Margin="0">
                                Matriz densidade ρ de um sistema quântico (operador densidade)
                            </TextBlock>
                        </Border>
                    </Grid>

                    <!-- Fórmula -->
                    <Grid Margin="0,2">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="2*"/>
                            <ColumnDefinition Width="3*"/>
                            <ColumnDefinition Width="3*"/>
                        </Grid.ColumnDefinitions>
                        <Border Grid.Column="0" Background="#FAFAFA" Padding="12" BorderBrush="{StaticResource LightGray}" BorderThickness="1">
                            <TextBlock Text="📐 Fórmula" FontWeight="Bold"/>
                        </Border>
                        <Border Grid.Column="1" Background="White" Padding="12" BorderBrush="{StaticResource LightGray}" BorderThickness="0,1,1,1">
                            <TextBlock Style="{StaticResource ContentTextStyle}" Margin="0" FontFamily="Consolas">
                                H(X) = -Σ pᵢ log₂(pᵢ)
                            </TextBlock>
                        </Border>
                        <Border Grid.Column="2" Background="White" Padding="12" BorderBrush="{StaticResource LightGray}" BorderThickness="0,1,1,1">
                            <TextBlock Style="{StaticResource ContentTextStyle}" Margin="0" FontFamily="Consolas">
                                S(ρ) = -Tr(ρ log₂(ρ))
                                <LineBreak/>
                                S(ρ) = -Σ λᵢ log₂(λᵢ)
                            </TextBlock>
                        </Border>
                    </Grid>

                    <!-- Interpretação -->
                    <Grid Margin="0,2">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="2*"/>
                            <ColumnDefinition Width="3*"/>
                            <ColumnDefinition Width="3*"/>
                        </Grid.ColumnDefinitions>
                        <Border Grid.Column="0" Background="#FAFAFA" Padding="12" BorderBrush="{StaticResource LightGray}" BorderThickness="1">
                            <TextBlock Text="💭 Interpretação" FontWeight="Bold"/>
                        </Border>
                        <Border Grid.Column="1" Background="White" Padding="12" BorderBrush="{StaticResource LightGray}" BorderThickness="0,1,1,1">
                            <TextBlock Style="{StaticResource ContentTextStyle}" Margin="0">
                                Incerteza média sobre qual símbolo será emitido. Quantidade de informação média por símbolo.
                            </TextBlock>
                        </Border>
                        <Border Grid.Column="2" Background="White" Padding="12" BorderBrush="{StaticResource LightGray}" BorderThickness="0,1,1,1">
                            <TextBlock Style="{StaticResource ContentTextStyle}" Margin="0">
                                Grau de mistura do estado quântico. Mede incerteza incluindo efeitos de emaranhamento.
                            </TextBlock>
                        </Border>
                    </Grid>

                    <!-- Valor mínimo -->
                    <Grid Margin="0,2">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="2*"/>
                            <ColumnDefinition Width="3*"/>
                            <ColumnDefinition Width="3*"/>
                        </Grid.ColumnDefinitions>
                        <Border Grid.Column="0" Background="#FAFAFA" Padding="12" BorderBrush="{StaticResource LightGray}" BorderThickness="1">
                            <TextBlock Text="⬇️ Valor mínimo" FontWeight="Bold"/>
                        </Border>
                        <Border Grid.Column="1" Background="White" Padding="12" BorderBrush="{StaticResource LightGray}" BorderThickness="0,1,1,1">
                            <TextBlock Style="{StaticResource ContentTextStyle}" Margin="0">
                                <Run FontWeight="Bold">H = 0:</Run> Uma probabilidade = 1, outras = 0. Sistema totalmente determinístico.
                            </TextBlock>
                        </Border>
                        <Border Grid.Column="2" Background="White" Padding="12" BorderBrush="{StaticResource LightGray}" BorderThickness="0,1,1,1">
                            <TextBlock Style="{StaticResource ContentTextStyle}" Margin="0">
                                <Run FontWeight="Bold">S = 0:</Run> Estado puro ψ⟩. Um autovalor = 1, outros = 0. Sem incerteza quântica.
                            </TextBlock>
                        </Border>
                    </Grid>

                    <!-- Valor máximo -->
                    <Grid Margin="0,2">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="2*"/>
                            <ColumnDefinition Width="3*"/>
                            <ColumnDefinition Width="3*"/>
                        </Grid.ColumnDefinitions>
                        <Border Grid.Column="0" Background="#FAFAFA" Padding="12" BorderBrush="{StaticResource LightGray}" BorderThickness="1">
                            <TextBlock Text="⬆️ Valor máximo" FontWeight="Bold"/>
                        </Border>
                        <Border Grid.Column="1" Background="White" Padding="12" BorderBrush="{StaticResource LightGray}" BorderThickness="0,1,1,1">
                            <TextBlock Style="{StaticResource ContentTextStyle}" Margin="0">
                                <Run FontWeight="Bold">H = log₂(n):</Run> Todas as probabilidades iguais (equiprovável). Máxima aleatoriedade.
                            </TextBlock>
                        </Border>
                        <Border Grid.Column="2" Background="White" Padding="12" BorderBrush="{StaticResource LightGray}" BorderThickness="0,1,1,1">
                            <TextBlock Style="{StaticResource ContentTextStyle}" Margin="0">
                                <Run FontWeight="Bold">S = log₂(d):</Run> Estado maximalmente misto ρ = I/d. Todos os autovalores iguais.
                            </TextBlock>
                        </Border>
                    </Grid>

                    <!-- Quando coincidem -->
                    <Grid Margin="0,2">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="2*"/>
                            <ColumnDefinition Width="6*"/>
                        </Grid.ColumnDefinitions>
                        <Border Grid.Column="0" Background="#E8F5E9" Padding="12" BorderBrush="#27AE60" BorderThickness="2" CornerRadius="0,0,0,8">
                            <TextBlock Text="🔄 Quando coincidem" FontWeight="Bold" Foreground="#2E7D32"/>
                        </Border>
                        <Border Grid.Column="1" Background="#E8F5E9" Padding="12" BorderBrush="#27AE60" BorderThickness="2,2,2,2" CornerRadius="0,0,8,0">
                            <TextBlock Style="{StaticResource ContentTextStyle}" Margin="0">
                                <Run FontWeight="Bold" Foreground="#2E7D32">IMPORTANTE:</Run> Quando ρ é <Run FontWeight="Bold">diagonal</Run> (sem coerências),
                                S(ρ) = H(X) onde X é a distribuição dos autovalores λᵢ.
                                <LineBreak/>
                                <Run FontStyle="Italic">Shannon é um caso especial de von Neumann!</Run>
                            </TextBlock>
                        </Border>
                    </Grid>
                </StackPanel>
            </Border>

            <!-- Simulador Interativo -->
            <Border Style="{StaticResource CardStyle}" Margin="0,20,0,0">
                <StackPanel>
                    <TextBlock Text="🎮 Simulador: Compare as Entropias" 
                             FontSize="24" FontWeight="Bold"
                             Foreground="{StaticResource SecondaryColor}"
                             Margin="0,0,0,20"/>

                    <Separator Background="{StaticResource LightGray}" Margin="0,0,0,20"/>

                    <TextBlock Style="{StaticResource ContentTextStyle}" Margin="0,0,0,20">
                        Ajuste as probabilidades e veja como as entropias de Shannon e von Neumann se comportam:
                    </TextBlock>

                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="2*"/>
                            <ColumnDefinition Width="3*"/>
                        </Grid.ColumnDefinitions>

                        <!-- Controles -->
                        <StackPanel Grid.Column="0" Margin="10">
                            <TextBlock Text="Distribuição de Probabilidades:" 
                                     FontWeight="Bold" FontSize="14" Margin="0,0,0,10"/>

                            <!-- Probabilidade 1 -->
                            <TextBlock Text="p₁ (Estado 0⟩):" FontSize="13" Margin="0,5,0,5"/>
                            <Slider x:Name="SliderP1"
                                    Minimum="0" Maximum="1" Value="0.5"
                                    TickFrequency="0.1"
                                    ValueChanged="SliderProbabilities_ValueChanged"/>
                            <TextBlock x:Name="TxtP1" Text="p₁ = 0.50" FontSize="12" 
                                     HorizontalAlignment="Center" Margin="0,5,0,15"/>

                            <!-- Probabilidade 2 -->
                            <TextBlock Text="p₂ (Estado 1⟩):" FontSize="13" Margin="0,5,0,5"/>
                            <Slider x:Name="SliderP2"
                                    Minimum="0" Maximum="1" Value="0.5"
                                    TickFrequency="0.1"
                                    ValueChanged="SliderProbabilities_ValueChanged"/>
                            <TextBlock x:Name="TxtP2" Text="p₂ = 0.50" FontSize="12" 
                                     HorizontalAlignment="Center" Margin="0,5,0,20"/>

                            <Separator Margin="0,10"/>

                            <!-- Resultados -->
                            <Border Background="#E3F2FD" BorderBrush="#3498DB" BorderThickness="2"
                                    CornerRadius="8" Padding="15" Margin="0,15,0,10">
                                <StackPanel>
                                    <TextBlock Text="📈 Entropia de Shannon:" 
                                             FontWeight="Bold" FontSize="13"
                                             Foreground="#1976D2"
                                             Margin="0,0,0,10"/>

                                    <TextBlock x:Name="TxtShannonEntropy" 
                                             Text="H(X) = 1.0000 bits"
                                             FontSize="16" FontWeight="Bold"
                                             HorizontalAlignment="Center"
                                             Foreground="#1976D2"/>
                                </StackPanel>
                            </Border>

                            <Border Background="#F3E5F5" BorderBrush="#9B59B6" BorderThickness="2"
                                    CornerRadius="8" Padding="15" Margin="0,10,0,10">
                                <StackPanel>
                                    <TextBlock Text="⚛️ Entropia de von Neumann:" 
                                             FontWeight="Bold" FontSize="13"
                                             Foreground="#7B1FA2"
                                             Margin="0,0,0,10"/>

                                    <TextBlock x:Name="TxtVonNeumannEntropy" 
                                             Text="S(ρ) = 1.0000 bits"
                                             FontSize="16" FontWeight="Bold"
                                             HorizontalAlignment="Center"
                                             Foreground="#7B1FA2"/>

                                    <TextBlock x:Name="TxtEntropyComparison" 
                                             Text="(Estado diagonal: S = H)"
                                             FontSize="11" FontStyle="Italic"
                                             HorizontalAlignment="Center"
                                             Margin="0,5,0,0"
                                             Foreground="{StaticResource DarkGray}"/>
                                </StackPanel>
                            </Border>

                            <Button Content="🔄 Resetar (equiprovável)" 
                                    Style="{StaticResource SimulationButtonStyle}"
                                    Background="{StaticResource DarkGray}"
                                    Click="BtnResetEntropy_Click"
                                    Margin="0,15,0,0"/>
                        </StackPanel>

                        <!-- Visualização -->
                        <Border Grid.Column="1" Background="#FAFAFA" CornerRadius="10" Padding="20" Margin="10">
                            <StackPanel>
                                <TextBlock Text="Visualização das Probabilidades" 
                                         FontSize="16" FontWeight="Bold"
                                         HorizontalAlignment="Center"
                                         Margin="0,0,0,15"/>

                                <!-- Gráfico de barras -->
                                <Canvas x:Name="ProbabilityChart" Height="300" Width="400" Background="White">
                                    <!-- Eixos -->
                                    <Line X1="40" Y1="250" X2="360" Y2="250" 
                                          Stroke="#BDC3C7" StrokeThickness="2"/>
                                    <Line X1="40" Y1="30" X2="40" Y2="250" 
                                          Stroke="#BDC3C7" StrokeThickness="2"/>

                                    <!-- Labels dos eixos -->
                                    <TextBlock Text="Probabilidade" Canvas.Left="5" Canvas.Top="10" 
                                             FontSize="11" FontWeight="Bold"/>
                                    <TextBlock Text="1.0" Canvas.Left="10" Canvas.Top="25" FontSize="10"/>
                                    <TextBlock Text="0.5" Canvas.Left="10" Canvas.Top="135" FontSize="10"/>
                                    <TextBlock Text="0.0" Canvas.Left="10" Canvas.Top="245" FontSize="10"/>

                                    <!-- Barras (serão atualizadas dinamicamente) -->
                                    <Rectangle x:Name="Bar1" Canvas.Left="100" Canvas.Top="140" 
                                             Width="80" Height="110"
                                             Fill="#3498DB" RadiusX="4" RadiusY="4"/>
                                    <TextBlock x:Name="LabelBar1" Text="0⟩" Canvas.Left="130" Canvas.Top="260" 
                                             FontSize="14" FontWeight="Bold" Foreground="#3498DB"/>
                                    <TextBlock x:Name="ValueBar1" Text="0.50" Canvas.Left="125" Canvas.Top="115" 
                                             FontSize="12" FontWeight="Bold"/>

                                    <Rectangle x:Name="Bar2" Canvas.Left="220" Canvas.Top="140" 
                                             Width="80" Height="110"
                                             Fill="#9B59B6" RadiusX="4" RadiusY="4"/>
                                    <TextBlock x:Name="LabelBar2" Text="1⟩" Canvas.Left="250" Canvas.Top="260" 
                                             FontSize="14" FontWeight="Bold" Foreground="#9B59B6"/>
                                    <TextBlock x:Name="ValueBar2" Text="0.50" Canvas.Left="245" Canvas.Top="115" 
                                             FontSize="12" FontWeight="Bold"/>
                                </Canvas>

                                <Border Background="#FFF3E0" BorderBrush="#F39C12" BorderThickness="2"
                                        CornerRadius="8" Padding="15" Margin="0,15,0,0">
                                    <TextBlock TextWrapping="Wrap" TextAlignment="Center" FontSize="13" LineHeight="22">
                                        <Run FontWeight="Bold">💡 Observe:</Run>
                                        <LineBreak/>
                                        Quando as probabilidades são iguais (0.5, 0.5), a entropia é máxima (1 bit).
                                        <LineBreak/>
                                        Quando uma probabilidade é 1 e a outra 0, a entropia é zero (sem incerteza).
                                    </TextBlock>
                                </Border>
                            </StackPanel>
                        </Border>
                    </Grid>
                </StackPanel>
            </Border>

            <!-- Casos Especiais -->
            <Border Style="{StaticResource CardStyle}" Margin="0,20,0,0">
                <StackPanel>
                    <TextBlock Text="✨ Casos Especiais e Conexões" 
                             FontSize="24" FontWeight="Bold"
                             Foreground="{StaticResource SecondaryColor}"
                             Margin="0,0,0,15"/>

                    <Separator Background="{StaticResource LightGray}" Margin="0,0,0,20"/>

                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <!-- Estado Puro -->
                        <Border Grid.Row="0" Grid.Column="0" Background="#E8F5E9" CornerRadius="10" Padding="20" Margin="5">
                            <StackPanel>
                                <TextBlock Text="✅ Estado Puro" 
                                         FontSize="16" FontWeight="Bold"
                                         Foreground="#2E7D32"
                                         HorizontalAlignment="Center"
                                         Margin="0,0,0,15"/>

                                <Border Background="White" CornerRadius="6" Padding="15">
                                    <TextBlock TextWrapping="Wrap" FontSize="13" LineHeight="22">
                                        <Run FontWeight="Bold">Quântico:</Run>
                                        <LineBreak/>
                                        ψ⟩ = α0⟩ + β1⟩
                                        <LineBreak/>
                                        ρ = ψ⟩⟨ψ
                                        <LineBreak/>
                                        <Run FontWeight="Bold" Foreground="#9B59B6">S(ρ) = 0</Run>
                                        <LineBreak/><LineBreak/>
                                        
                                        <Run FontWeight="Bold">Clássico equivalente:</Run>
                                        <LineBreak/>
                                        p = (1, 0) ou (0, 1)
                                        <LineBreak/>
                                        <Run FontWeight="Bold" Foreground="#3498DB">H(X) = 0</Run>
                                        <LineBreak/><LineBreak/>
                                        
                                        <Run FontWeight="SemiBold">→ Sem incerteza!</Run>
                                    </TextBlock>
                                </Border>
                            </StackPanel>
                        </Border>

                        <!-- Estado Misto -->
                        <Border Grid.Row="0" Grid.Column="1" Background="#FFF3E0" CornerRadius="10" Padding="20" Margin="5">
                            <StackPanel>
                                <TextBlock Text="🌀 Estado Misto" 
                                         FontSize="16" FontWeight="Bold"
                                         Foreground="#E65100"
                                         HorizontalAlignment="Center"
                                         Margin="0,0,0,15"/>

                                <Border Background="White" CornerRadius="6" Padding="15">
                                    <TextBlock TextWrapping="Wrap" FontSize="13" LineHeight="22">
                                        <Run FontWeight="Bold">Quântico:</Run>
                                        <LineBreak/>
                                        ρ = 0.5(0⟩⟨0 + 1⟩⟨1)
                                        <LineBreak/>
                                        <Run FontWeight="Bold" Foreground="#9B59B6">S(ρ) = 1 bit</Run>
                                        <LineBreak/><LineBreak/>
                                        
                                        <Run FontWeight="Bold">Clássico equivalente:</Run>
                                        <LineBreak/>
                                        p = (0.5, 0.5)
                                        <LineBreak/>
                                        <Run FontWeight="Bold" Foreground="#3498DB">H(X) = 1 bit</Run>
                                        <LineBreak/><LineBreak/>
                                        
                                        <Run FontWeight="SemiBold">→ Máxima incerteza!</Run>
                                    </TextBlock>
                                </Border>
                            </StackPanel>
                        </Border>

                        <!-- Emaranhamento -->
                        <Border Grid.Row="1" Grid.Column="0" Background="#E1BEE7" CornerRadius="10" Padding="20" Margin="5">
                            <StackPanel>
                                <TextBlock Text="🔗 Emaranhamento" 
                                         FontSize="16" FontWeight="Bold"
                                         Foreground="#7B1FA2"
                                         HorizontalAlignment="Center"
                                         Margin="0,0,0,15"/>

                                <Border Background="White" CornerRadius="6" Padding="15">
                                    <TextBlock TextWrapping="Wrap" FontSize="13" LineHeight="22">
                                        <Run FontWeight="Bold">Estado global puro:</Run>
                                        <LineBreak/>
                                        Ψ⟩ = (00⟩ + 11⟩)/√2
                                        <LineBreak/>
                                        S(ρ_total) = 0
                                        <LineBreak/><LineBreak/>
                                        
                                        <Run FontWeight="Bold">Subsistemas:</Run>
                                        <LineBreak/>
                                        ρ_A = ρ_B = I/2
                                        <LineBreak/>
                                        <Run FontWeight="Bold" Foreground="#9B59B6">S(ρ_A) = S(ρ_B) = 1</Run>
                                        <LineBreak/><LineBreak/>
                                        
                                        <Run FontWeight="SemiBold">→ Entropia do emaranhamento!</Run>
                                    </TextBlock>
                                </Border>
                            </StackPanel>
                        </Border>

                        <!-- Conexão -->
                        <Border Grid.Row="1" Grid.Column="1" Background="#E3F2FD" CornerRadius="10" Padding="20" Margin="5">
                            <StackPanel>
                                <TextBlock Text="🔄 Conexão Fundamental" 
                                         FontSize="16" FontWeight="Bold"
                                         Foreground="#1976D2"
                                         HorizontalAlignment="Center"
                                         Margin="0,0,0,15"/>

                                <Border Background="White" CornerRadius="6" Padding="15">
                                    <TextBlock TextWrapping="Wrap" FontSize="13" LineHeight="22">
                                        <Run FontWeight="Bold">Se ρ é diagonal:</Run>
                                        <LineBreak/>
                                        ρ = Σ λᵢ i⟩⟨i
                                        <LineBreak/><LineBreak/>
                                        
                                        <Run FontWeight="Bold">Então:</Run>
                                        <LineBreak/>
                                        <Run FontWeight="Bold" Foreground="#27AE60" FontSize="14">S(ρ) = H(λ)</Run>
                                        <LineBreak/><LineBreak/>
                                        
                                        <Run FontStyle="Italic">onde λ = (λ₁, λ₂, ..., λₙ)</Run>
                                        <LineBreak/><LineBreak/>
                                        
                                        <Run FontWeight="SemiBold">→ Shannon é caso especial!</Run>
                                    </TextBlock>
                                </Border>
                            </StackPanel>
                        </Border>
                    </Grid>
                </StackPanel>
            </Border>

            <!-- Conclusão -->
            <Border Style="{StaticResource CardStyle}" Margin="0,20,0,40">
                <Border.Background>
                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                        <GradientStop Color="#E3F2FD" Offset="0"/>
                        <GradientStop Color="#F3E5F5" Offset="1"/>
                    </LinearGradientBrush>
                </Border.Background>

                <StackPanel>
                    <TextBlock Text="💭 Síntese Final" 
                             FontSize="24" FontWeight="Bold"
                             Foreground="{StaticResource SecondaryColor}"
                             HorizontalAlignment="Center"
                             Margin="0,0,0,20"/>

                    <Border Background="White" CornerRadius="10" Padding="25"
                            BorderBrush="{StaticResource PrimaryColor}" BorderThickness="2">
                        <TextBlock TextWrapping="Wrap" TextAlignment="Center"
                                 LineHeight="28" FontSize="16"
                                 Foreground="{StaticResource SecondaryColor}">
                            <Run FontSize="20" Text="📊" />
                            <LineBreak/>
                            <Run FontWeight="Bold" FontSize="18" Foreground="#3498DB">
                                Shannon mede incerteza clássica
                            </Run>
                            <LineBreak/>
                            <Run FontSize="15">
                                H(X) quantifica bits necessários para codificar símbolos
                            </Run>
                            <LineBreak/><LineBreak/>
                            
                            <Run FontWeight="Bold" FontSize="18" Foreground="#9B59B6">
                                von Neumann generaliza para o mundo quântico
                            </Run>
                            <LineBreak/>
                            <Run FontSize="15">
                                S(ρ) captura mistura + emaranhamento + decoerência
                            </Run>
                            <LineBreak/><LineBreak/>
                            
                            <Run FontWeight="Bold" FontSize="18" Foreground="#27AE60">
                                Quando ρ é diagonal: S(ρ) = H(λ)
                            </Run>
                            <LineBreak/>
                            <Run FontSize="15">
                                A entropia clássica é um caso especial da quântica!
                            </Run>
                            <LineBreak/><LineBreak/>
                            
                            <Run FontStyle="Italic" Foreground="{StaticResource DarkGray}" FontSize="14">
                                "A teoria da informação quântica unifica e estende
                                os conceitos clássicos de Shannon, revelando a profunda
                                conexão entre informação, física e computação."
                            </Run>
                        </TextBlock>
                    </Border>

                    <!-- Aplicações práticas -->
                    <Border Background="#E8F5E9" BorderBrush="#27AE60" BorderThickness="2"
                            CornerRadius="10" Padding="20" Margin="0,20,0,0">
                        <StackPanel>
                            <TextBlock Text="🎯 Aplicações Práticas" 
                                     FontSize="16" FontWeight="Bold"
                                     Foreground="#2E7D32"
                                     HorizontalAlignment="Center"
                                     Margin="0,0,0,15"/>

                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>

                                <StackPanel Grid.Column="0" Margin="10">
                                    <TextBlock Text="📈 Shannon (Clássica):" FontWeight="Bold" FontSize="13" Margin="0,0,0,8"/>
                                    <TextBlock TextWrapping="Wrap" FontSize="12" LineHeight="20">
                                        <Run Text="• Compressão de dados (ZIP, MP3)"/>
                                        <LineBreak/>
                                        <Run Text="• Códigos de correção de erros"/>
                                        <LineBreak/>
                                        <Run Text="• Teoria de canais de comunicação"/>
                                        <LineBreak/>
                                        <Run Text="• Criptografia clássica"/>
                                        <LineBreak/>
                                        <Run Text="• Machine learning (entropia de decisão)"/>
                                    </TextBlock>
                                </StackPanel>

                                <StackPanel Grid.Column="1" Margin="10">
                                    <TextBlock Text="⚛️ von Neumann (Quântica):" FontWeight="Bold" FontSize="13" Margin="0,0,0,8"/>
                                    <TextBlock TextWrapping="Wrap" FontSize="12" LineHeight="20">
                                        <Run Text="• Medida de emaranhamento"/>
                                        <LineBreak/>
                                        <Run Text="• Pureza de estados quânticos"/>
                                        <LineBreak/>
                                        <Run Text="• Capacidade de canais quânticos"/>
                                        <LineBreak/>
                                        <Run Text="• Criptografia quântica (QKD)"/>
                                        <LineBreak/>
                                        <Run Text="• Computação quântica (correção de erros)"/>
                                    </TextBlock>
                                </StackPanel>
                            </Grid>
                        </StackPanel>
                    </Border>
                </StackPanel>
            </Border>
        </StackPanel>
    </ScrollViewer>
</UserControl>